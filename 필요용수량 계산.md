# 필요수량 계산

날짜: 2023년 10월 27일

- 변수 이해를 위한 한글버전

[보성군 새로운거.csv](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/%25EB%25B3%25B4%25EC%2584%25B1%25EA%25B5%25B0_%25EC%2583%2588%25EB%25A1%259C%25EC%259A%25B4%25EA%25B1%25B0.csv)

- 코딩을 위한 변수명을 영어로 바꾼 영어 버전

[보성군 새로운거 영어.csv](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/%25EB%25B3%25B4%25EC%2584%25B1%25EA%25B5%25B0_%25EC%2583%2588%25EB%25A1%259C%25EC%259A%25B4%25EA%25B1%25B0_%25EC%2598%2581%25EC%2596%25B4.csv)

### 영어 변수명

Date - 일자, AvgT- 평균온도, MinT - 최소온도, MaxT - 최대온도,

AvgEn(hpa) - 수증기 압(단위:hpa), AvgPrs(hpa) - 현지기압 (단위:hpa), 

AvgWdSd - 1.5M 평균 풍속, Rn - 순복사량

# 대전제

## 1. 지역은 보성으로 바뀜

- 왜냐면 전남에 원하는 기상 데이터가 보성군만 존재

## 2. 저수지는 적산 저수지로 바꿈

- 왜냐하면 기상 관측기가 보성군 득량면에 존재하는데 그 지역에 존재하는 저수지중에 가장 큰 저수지를 선정
    
    ![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled.png)
    

## 3. 단위를 잘봐야함

<aside>
💡 **필요수량 계산식**

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%201.png)

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%202.png)

- G는 근사치 값이 0이므로 그냥 제외
- **순 복사량, 일평균 기온, 수증기압은 기상값에 포함되어 있음 (그대로 가져다 쓰면됨)**
- 단 수증기압은 hpa로 되어있으므로 나누기 10을해서 kpa로 단위 변경필요

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%203.png)

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%204.png)

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%205.png)

### **건습계 상수** (r)

- 건습계 상수 (r) = 0.000665‬ * 현지기압

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%206.png)

### 포화 수증기압의 기울기(g)

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%207.png)

- AvgT는 평균 온도
- gradient = (4098(0.6108 * math.exp(17.27 * AvgT / (AvgT + 237.3)))) / (AvgT + 237.3)^2

### 포화 수증기압

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%208.png)

- MaxT는 최대 온도, MinT는 최소 온도
- e = ((0.6108 * math.exp(17.27 * MaxT / (MaxT + 237.3))) + (0.6108 * math.exp(17.27 * MinT / (MinT + 237.3)))) / 2

### 일평균 풍속 (u)

- 2m 높이에 해당하는 일평균 풍속(u) = 1.07 * 1.5M 풍속

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%209.png)

</aside>

### 위 방식으로 필요수량을 구하면 다음과 같이 농업용수 공급량을 구할 수 있음

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%2010.png)

- **관개효율**은 일단 80을 넣기로 함 (일단 80으로 고정후 나중에 조정)
    
    ![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%2011.png)
    
- **관개 면적**은 저수지의 수혜 면적으로 계산하기로 함 (598,000m^2로 고정)
- 필요수량은 위에서 구한걸 적용
- 추가적으로 일 최대 공급량은 고려하지 않기로함
    - 정보를 구할 수 없음(다만 추후에 농업용수 공급량이 너무 큰 특이치가 나오면 이상값으로 제외함)

<aside>
💡 결론 : **농업용수량 = 7.475 * 필요수량**

</aside>

# 진짜 사용할 데이터

### 보성군 ASOS와 AAOS 기상데이터 합친후 결측치 처리한 데이터

[2011_01_02_2021_06_03_보성군.csv](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/2011_01_02_2021_06_03_%25EB%25B3%25B4%25EC%2584%25B1%25EA%25B5%25B0.csv)

[2011_01_02_2021_06_03_보성군_영어.csv](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/2011_01_02_2021_06_03_%25EB%25B3%25B4%25EC%2584%25B1%25EA%25B5%25B0_%25EC%2598%2581%25EC%2596%25B4.csv)

- 결측치처리는 어떻게 했냐면
- AAOS에 없는 날짜는 ASOS에 있더라도 전부 제외함
    - 이 날짜들을 수작업으로 분류함 밑에 메모장의 날짜들은 AAOS기상 데이터에는 없는 데이터
    
    [보성군기상데이터미싱부분메모.txt](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/%25EB%25B3%25B4%25EC%2584%25B1%25EA%25B5%25B0%25EA%25B8%25B0%25EC%2583%2581%25EB%258D%25B0%25EC%259D%25B4%25ED%2584%25B0%25EB%25AF%25B8%25EC%258B%25B1%25EB%25B6%2580%25EB%25B6%2584%25EB%25A9%2594%25EB%25AA%25A8.txt)
    
- 그리고 중간에 뚤려있는 복사량 값 Rn은 몇개 안되서 앞뒤에 알맞에 인공적으로 값을 생성해서 채워넣음

# 결과: ET - 필요수량, AWS - 농업용수공급량(m^3)

- 최종데이터

[2011_01_02_2021_06_03_보성군_영어_AWS추가.csv](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/2011_01_02_2021_06_03_%25EB%25B3%25B4%25EC%2584%25B1%25EA%25B5%25B0_%25EC%2598%2581%25EC%2596%25B4_AWS%25EC%25B6%2594%25EA%25B0%2580.csv)

---

[보성군 풍속.csv](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/%25EB%25B3%25B4%25EC%2584%25B1%25EA%25B5%25B0_%25ED%2592%258D%25EC%2586%258D.csv)

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%2012.png)

이케해서 제가 만든거에 새로운 열 만들어서 2m풍속 새로 만들어줌 1..07 곱한 값임 ㅇㅇ 

---

보성군_강수량 데이터(2011.01.02 ~  2021-06-03)

[보성_일별강수량데이터.csv](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/%25EB%25B3%25B4%25EC%2584%25B1_%25EC%259D%25BC%25EB%25B3%2584%25EA%25B0%2595%25EC%2588%2598%25EB%259F%2589%25EB%258D%25B0%25EC%259D%25B4%25ED%2584%25B0.csv)

→ 미싱데이터랑 같은 날짜 뺌 

모델 돌리려면 이 데이터로 쓰셈 두개다 데이터 열 일치하기때

Precipitation만 널값(강수량 0) 존재 → 0으로 전처리.

![Untitled](%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%89%E1%85%AE%E1%84%85%E1%85%A3%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%89%E1%85%A1%E1%86%AB%2006f625753e544c038378f047176e16a8/Untitled%2013.png)

